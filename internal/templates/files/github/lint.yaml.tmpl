## This file is auto generated by tfskel

name: Lint envs/{{.Env}}/{{.Region}}/{{.AppDir}} Terraform files
on:
  pull_request:
    branches:
      - main
    paths:
      - 'envs/{{.Env}}/{{.Region}}/{{.AppDir}}/**'
      - '.github/workflows/{{.WorkflowFileName}}'

  ## For manual trigger on github UI
  workflow_dispatch:
    inputs:
      terraform_files_path:
        required: true
        description: Path to the Terraform files to validate
        type: string
        default: 'envs/{{.Env}}/{{.Region}}/{{.AppDir}}'
      enable_terraform_docs_check:
        required: false
        description: Enable terraform-docs check , applicable for modules only.
        type: boolean
        default: false

permissions:
  pull-requests: write
  contents: read

jobs:
  lint:
    uses: ./.github/workflows/reusable-lint.yaml
    with:
      terraform_files_path: 'envs/{{.Env}}/{{.Region}}/{{.AppDir}}'
      enable_terraform_docs_check: false ## for module workflows set it to true
